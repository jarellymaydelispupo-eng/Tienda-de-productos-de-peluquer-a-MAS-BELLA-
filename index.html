<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√ÅS BELLA - Tienda</title>
    <style>
        :root { --oro: #d4af37; --rosa: #d81b60; --fondo: #fff5f8; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--fondo); margin: 0; padding: 0; color: #333; }
        header { background: white; text-align: center; padding: 20px; border-bottom: 4px solid var(--oro); }
        .logo { font-size: 1.8rem; font-weight: bold; color: var(--rosa); margin: 0; }
        
        .contenedor { max-width: 500px; margin: auto; padding: 10px; padding-bottom: 150px; }
        
        .categoria-titulo { background: #2c3e50; color: white; padding: 10px; margin-top: 20px; text-align: center; font-weight: bold; border-radius: 5px; text-transform: uppercase; font-size: 0.9rem; }
        
        .producto-card { background: white; margin: 10px 0; padding: 15px; border-radius: 10px; border-left: 5px solid var(--oro); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        
        .fila-principal { display: flex; justify-content: space-between; align-items: center; }
        .nombre { font-weight: bold; font-size: 1rem; }
        .precio { color: var(--rosa); font-weight: bold; }
        
        .contenedor-tonos { background: #fdf2f5; padding: 10px; margin-top: 10px; border-radius: 8px; border: 1px dashed var(--rosa); }
        .fila-tono { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; font-size: 0.9rem; }
        
        input[type="number"] { width: 50px; padding: 8px; text-align: center; border: 1px solid #ccc; border-radius: 5px; font-weight: bold; }
        
        .seccion-pago { background: white; padding: 20px; border-radius: 15px; border: 2px solid var(--rosa); margin-top: 20px; }
        select, input[type="text"], textarea { width: 100%; padding: 12px; margin: 8px 0; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; }
        
        .barra-total { position: fixed; bottom: 0; width: 100%; background: #2c3e50; color: white; text-align: center; padding: 15px; font-size: 1.2rem; font-weight: bold; z-index: 1000; }
        .btn-wa { background: #25d366; color: white; text-decoration: none; padding: 12px 25px; border-radius: 50px; display: inline-block; margin-top: 10px; font-size: 1rem; }
    </style>
</head>
<body>

<header>
    <p class="logo">üå∫ M√ÅS BELLA üå∫</p>
    <small>Est√©tica Profesional | Camag√ºey</small>
</header>

<div class="contenedor">
    <div id="lista-productos"></div>

    <div class="seccion-pago">
        <h3>üõµ M√©todo de Entrega</h3>
        <select id="metodoEntrega" onchange="actualizarInterfaz()">
            <option value="tienda">üè™ Recogida en Tienda ($0)</option>
            <option value="domicilio">üè† Servicio a Domicilio</option>
        </select>

        <div id="form-domicilio" style="display:none">
            <label>Zona de Camag√ºey:</label>
            <select id="zonaCosto" onchange="calcularTotal()">
                <option value="300">Centro del pueblo ($300)</option>
                <option value="500">Lenin ($500)</option>
                <option value="400">Modelo ($400)</option>
                <option value="350">La Caridad ($350)</option>
                <option value="400">La Vig√≠a ($400)</option>
                <option value="400">Florat ($400)</option>
                <option value="350">Vista Hermosa ($350)</option>
                <option value="400">Versalles ($400)</option>
                <option value="350">Agramonte ($350)</option>
                <option value="500">Jayama ($500)</option>
                <option value="400">Monte Carlos ($400)</option>
                <option value="400">La Mosca ($400)</option>
                <option value="400">Marquesado ($400)</option>
                <option value="450">La Esperanza ($450)</option>
                <option value="450">Nueva Esperanza ($450)</option>
                <option value="400">Garrido ($400)</option>
                <option value="450">El Micro ($450)</option>
                <option value="350">Palomino ($350)</option>
                <option value="400">Juanito ($400)</option>
                <option value="350">Previsora ($350)</option>
                <option value="450">La Guernina ($450)</option>
                <option value="450">La Bel√©n ($450)</option>
                <option value="350">Casino Campestre ($350)</option>
                <option value="350">Las Mercedes ($350)</option>
                <option value="350">Simoni ($350)</option>
                <option value="400">Montejo ($400)</option>
                <option value="450">La Yaba ($450)</option>
                <option value="450">Nadales ($450)</option>
                <option value="400">Bella Vista ($400)</option>
                <option value="450">Vista Bella ($450)</option>
                <option value="400">Inra ($400)</option>
                <option value="450">Im√°n ($450)</option>
                <option value="400">Mascota ($400)</option>
                <option value="400">Puerto Pr√≠ncipe ($400)</option>
                <option value="500">Isabel Hortensia ($500)</option>
                <option value="400">Villa Mariana ($400)</option>
                <option value="450">Los Coquitos ($450)</option>
                <option value="450">La Zambrana ($450)</option>
                <option value="500">Saratoga ($500)</option>
                <option value="400">El Jard√≠n ($400)</option>
                <option value="350">Floiran Quiroz ($350)</option>
                <option value="350">Porvenir ($350)</option>
                <option value="450">Nitr√≥geno ($450)</option>
                <option value="400">Buenos Aires ($400)</option>
                <option value="400">Camino Matanza ($400)</option>
                <option value="350">Sanchez Soto ($350)</option>
            </select>
            <input type="text" id="nomCli" placeholder="Nombre del Cliente">
            <textarea id="dirCli" placeholder="Direcci√≥n Exacta"></textarea>
            <input type="text" id="telCli" placeholder="Tel√©fono">
        </div>
    </div>
</div>

<div class="barra-total">
    TOTAL: $<span id="montoTotal">0</span><br>
    <a href="javascript:void(0)" onclick="enviarPedido()" class="btn-wa">üì≤ ENVIAR PEDIDO</a>
</div>

<script>
const productos = [
    {cat: "üé® Coloraci√≥n y Tintes", n: "Tinte Stereo", p: 490},
    {cat: "üé® Coloraci√≥n y Tintes", n: "Tinte Negro Ultra", p: 320},
    {cat: "üé® Coloraci√≥n y Tintes", n: "Tinte de Gel (Rojo)", p: 220, tonos: ["Rojo Uva", "Rojo Fuego", "Rojo Intenso", "Rojo Brillante", "Rojo Rubio Intenso", "Rojo Rub√≠", "Rojo Cereza", "Rojo Fresa"]},
    {cat: "üé® Coloraci√≥n y Tintes", n: "Tinte de Gel (Negro)", p: 200},
    {cat: "üé® Coloraci√≥n y Tintes", n: "Tinte Escarcha", p: 70, tonos: ["Negro", "Platino", "Gris Acero", "Carmelita", "Rubio Ceniza", "Tabaco", "Chocolate"]},
    {cat: "üé® Coloraci√≥n y Tintes", n: "Tinte de Gel (Claros)", p: 160, tonos: ["Rubio Cenizo", "Platino", "Carmelita", "Gris Acero", "Tabaco", "Chocolate", "Rubio Dorado", "Rubio Miel"]},
    {cat: "üé® Coloraci√≥n y Tintes", n: "Aceite para Decoloraci√≥n", p: 120},
    
    {cat: "üß™ Decoloraci√≥n y Per√≥xido", n: "Polvo INEXUS", p: 2850},
    {cat: "üß™ Decoloraci√≥n y Per√≥xido", n: "Polvo NT", p: 2600},
    {cat: "üß™ Decoloraci√≥n y Per√≥xido", n: "Polvo por Onza", p: 170},
    {cat: "üß™ Decoloraci√≥n y Per√≥xido", n: "Per√≥xido de 20 (Granel)", p: 200},
    {cat: "üß™ Decoloraci√≥n y Per√≥xido", n: "Per√≥xido de 40 (Granel)", p: 250},
    {cat: "üß™ Decoloraci√≥n y Per√≥xido", n: "Per√≥xido de 100", p: 1300},
    
    {cat: "üíá‚Äç‚ôÄÔ∏è Tratamientos y Cabello", n: "Juego ORO L√çQUIDO", p: 770},
    {cat: "üíá‚Äç‚ôÄÔ∏è Tratamientos y Cabello", n: "Alisado Brasile√±o", p: 470},
    {cat: "üíá‚Äç‚ôÄÔ∏è Tratamientos y Cabello", n: "Keratina Sara Max", p: 370},
    {cat: "üíá‚Äç‚ôÄÔ∏è Tratamientos y Cabello", n: "Ultra Keratina Chocolate", p: 370},
    {cat: "üíá‚Äç‚ôÄÔ∏è Tratamientos y Cabello", n: "Shampoo/Acond. granel (Pinta)", p: 170},
    {cat: "üíá‚Äç‚ôÄÔ∏è Tratamientos y Cabello", n: "Crema de Peinar", p: 390},
    {cat: "üíá‚Äç‚ôÄÔ∏è Tratamientos y Cabello", n: "Gel para el Cabello (Pote)", p: 150},
    {cat: "üíá‚Äç‚ôÄÔ∏è Tratamientos y Cabello", n: "Brocha", p: 250},
    
    {cat: "üßº Limpieza Sadier (Sellado)", n: "Suavizante SADIER", p: 400},
    {cat: "üßº Limpieza Sadier (Sellado)", n: "Detergente Fregar SADIER", p: 400},
    {cat: "üßº Limpieza Sadier (Sellado)", n: "Detergente Lavar SADIER", p: 400},
    
    {cat: "üß¥ Limpieza y Cuidado (Granel)", n: "Suavizante granel", p: 300},
    {cat: "üß¥ Limpieza y Cuidado (Granel)", n: "Detergente Fregar granel", p: 320},
    {cat: "üß¥ Limpieza y Cuidado (Granel)", n: "Detergente Lavar granel", p: 320},
    {cat: "üß¥ Limpieza y Cuidado (Granel)", n: "Gel de Ba√±o", p: 580},
    {cat: "üß¥ Limpieza y Cuidado (Granel)", n: "Crema para la Piel", p: 480}
];

function iniciar() {
    const contenedor = document.getElementById('lista-productos');
    let html = "";
    let catActual = "";
    
    productos.forEach((p, i) => {
        if(p.cat !== catActual) {
            catActual = p.cat;
            html += `<div class="categoria-titulo">${catActual}</div>`;
        }
        
        html += `<div class="producto-card">
            <div class="fila-principal">
                <div class="info">
                    <span class="nombre">${p.n}</span><br>
                    <span class="precio">$${p.p}</span>
                </div>
                <div class="control">
                    ${!p.tonos ? `<input type="number" id="cant-${i}" value="0" min="0" onchange="calcularTotal()">` : `<small>Ver tonos ‚Üì</small>`}
                </div>
            </div>`;
            
        if(p.tonos) {
            html += `<div class="contenedor-tonos">`;
            p.tonos.forEach((t, ti) => {
                html += `
                <div class="fila-tono">
                    <span>${t}</span>
                    <input type="number" class="t-cant-${i}" data-tono="${t}" data-prod="${p.n}" data-precio="${p.p}" value="0" min="0" onchange="calcularTotal()">
                </div>`;
            });
            html += `</div>`;
        }
        html += `</div>`;
    });
    contenedor.innerHTML = html;
}

function actualizarInterfaz() {
    const met = document.getElementById('metodoEntrega').value;
    document.getElementById('form-domicilio').style.display = (met === 'domicilio') ? 'block' : 'none';
    calcularTotal();
}

function calcularTotal() {
    let total = 0;
    productos.forEach((p, i) => {
        if(!p.tonos) {
            let c = parseInt(document.getElementById(`cant-${i}`).value) || 0;
            total += c * p.p;
        } else {
            let inputs = document.querySelectorAll(`.t-cant-${i}`);
            inputs.forEach(inp => {
                total += (parseInt(inp.value) || 0) * p.p;
            });
        }
    });
    
    if(document.getElementById('metodoEntrega').value === 'domicilio') {
        total += parseInt(document.getElementById('zonaCosto').value) || 0;
    }
    document.getElementById('montoTotal').innerText = total;
}

function enviarPedido() {
    let mensaje = "Hola M√ÅS BELLA, nuevo pedido:\n\n";
    let tieneAlgo = false;
    
    productos.forEach((p, i) => {
        if(!p.tonos) {
            let c = document.getElementById(`cant-${i}`).value;
            if(c > 0) {
                mensaje += `- ${c}x ${p.n} ($${c*p.p})\n`;
                tieneAlgo = true;
            }
        } else {
            let inputs = document.querySelectorAll(`.t-cant-${i}`);
            inputs.forEach(inp => {
                if(inp.value > 0) {
                    mensaje += `- ${inp.value}x ${p.n} (${inp.dataset.tono}) ($${inp.value*p.p})\n`;
                    tieneAlgo = true;
                }
            });
        }
    });
    
    if(!tieneAlgo) return alert("Por favor, selecciona alg√∫n producto.");
    
    if(document.getElementById('metodoEntrega').value === 'domicilio') {
        const zonaNom = document.getElementById('zonaCosto').options[document.getElementById('zonaCosto').selectedIndex].text;
        mensaje += `\nüè† DOMICILIO:\nCliente: ${document.getElementById('nomCli').value}\nZona: ${zonaNom}\nDir: ${document.getElementById('dirCli').value}\nTel: ${document.getElementById('telCli').value}`;
    } else {
        mensaje += `\nüè™ Recogida en tienda`;
    }
    
    mensaje += `\n\nüí∞ TOTAL: $${document.getElementById('montoTotal').innerText}`;
    window.location.href = "https://wa.me/5356247880?text=" + encodeURIComponent(mensaje);
}

iniciar();
</script>
</body>
  </html>
  
